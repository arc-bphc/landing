<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link href="/static/favicons/favicon.ico" rel="shortcut icon"/><link href="/static/favicons/site.webmanifest" rel="manifest"/><link href="/static/favicons/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link color="#111827" href="/static/favicons/safari-pinned-tab.svg" rel="mask-icon"/><meta content="#111827" name="theme-color"/><meta content="#ffffff" name="msapplication-TileColor"/><meta content="/static/favicons/browserconfig.xml" name="msapplication-config"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><title>ROS TF 101 || ARC</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github-dark.min.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/8db5bf205ea37cf1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8db5bf205ea37cf1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-bad78d8784d7438a.js" defer=""></script><script src="/_next/static/chunks/framework-ee8b8a1914c4e423.js" defer=""></script><script src="/_next/static/chunks/main-dc7bfb8c378ee046.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8e700d82b1e19a18.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-874ce54cd596830a.js" defer=""></script><script src="/_next/static/1v1vs4MHXJp0GdlqORR_o/_buildManifest.js" defer=""></script><script src="/_next/static/1v1vs4MHXJp0GdlqORR_o/_ssgManifest.js" defer=""></script><script src="/_next/static/1v1vs4MHXJp0GdlqORR_o/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Roboto+Mono:wght@300;400;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyeMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuI6fMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuBWYMZs.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_gPqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vqPQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_AP2PQA.woff) format('woff')}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_Of2PQA.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v7/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhGq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhPq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhIq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhEq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhFq3-cXbKDO1w.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto Mono';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/robotomono/v13/L0x5DF4xlVMF-BfR8bXMIjhLq3-cXbKD.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="bg-gray-900 text-white"><div id="__next" data-reactroot=""><div class="fixed w-full bg-gray-900/75 backdrop-blur"><div class="relative visible md:hidden h-20 flex items-center z-50 bg-gray-900"><div class="px-10 flex flex-col space-y-10 w-full"><div class="flex justify-between w-full items-center"><button aria-label="Toggle menu" type="button" class="mobile-menu_burger__wvd0z"><svg class="h-7 w-7 absolute text-gray-900 dark:text-gray-100" width="20" height="20" viewBox="0 0 20 20" fill="none" data-hide="false"><path d="M2.5 7.5H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.5 12.5H17.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="h-7 w-7 absolute text-gray-900 dark:text-gray-100" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision" data-hide="true"><path d="M18 6L6 18"></path><path d="M6 6l12 12"></path></svg></button><div class=""><div class="w-full"><button class="font-normal text-rose-50 py-2 hover:text-rose-500 transition-all">Home</button></div></div></div></div></div><div class="px-8 md:p-0 sm:max-w-2xl xl:max-w-5xl mx-auto flex flex-col"><nav class="hidden md:flex md:justify-between h-20 items-center"><div class=""><a class="font-normal text-rose-50 sm:py-2 rounded-lg hover:text-rose-500 transition-all " href="/"><img src="/static/images/logo.png" alt="logo" class="w-16"/></a></div><div class="flex gap-x-3"><a class="font-normal text-rose-50 sm:py-2 rounded-lg hover:text-rose-500 transition-all " href="/about">About</a><a class="font-normal text-rose-50 sm:py-2 rounded-lg hover:text-rose-500 transition-all " href="/blog">Blog</a><a class="font-normal text-rose-50 sm:py-2 rounded-lg hover:text-rose-500 transition-all " href="/news">News</a><a class="font-normal text-rose-50 sm:py-2 rounded-lg hover:text-rose-500 transition-all " href="/levelup">Level Up</a><a class="font-normal text-rose-50 sm:py-2 rounded-lg hover:text-rose-500 transition-all " href="/contact">Contact</a></div></nav></div></div><div class="px-8 md:p-0 sm:max-w-2xl xl:max-w-5xl mx-auto flex flex-col"><div class="mt-24 flex flex-col"><h1 class="text-5xl font-semibold">ROS TF 101</h1><div class="flex justify-between items-center mt-3"><div class="flex gap-x-3 items-center"><span class="text-sm text-gray-300">May 4, 2021</span><div class="flex gap-x-1 items-center flex-wrap"><div class="text-primary-200 text-xs font-semibold bg-primary-800 border-[1px] border-primary-300 px-2 py-0.5 rounded-xl">Tutorials</div><div class="text-primary-200 text-xs font-semibold bg-primary-800 border-[1px] border-primary-300 px-2 py-0.5 rounded-xl">ROS</div></div></div><div class="text-sm text-primary-300">9 min read</div></div><div class="border-l-4 border-rose-100 bg-gray-800 mt-8 px-4 py-5 text-primary-200">Learn how to use TF, the transforms framework avaiable in ROS. A step-by-step guide to use TF with rospy</div><div class="mt-8 prose prose-invert max-w-none"><h2 id="table-of-contents"><a class="anchor" href="#table-of-contents"><span class="icon icon-link"></span></a>Table of Contents</h2>
<ol>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#visulization-of-tf">Visulization of TF</a>
<ol>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#view_frames">View_frames</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#rqt_tf_tree">rqt_tf_tree</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#using-echo-tf">Using echo /tf</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#using-tf_echo">Using tf_echo</a></li>
</ol>
</li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#tf-publisher-broadcaster-listener-subscriber">TF Publisher, Broadcaster, Listener, Subscriber</a>
<ol>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#tf-publisher">TF Publisher</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#tf-broadcaster-example---1">TF Broadcaster Example - 1</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#tf-broadcaster-example---2">TF Broadcaster Example - 2</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#tf-broadcaster-from-pose-for-turtlesim_node">TF Broadcaster from Pose for turtlesim_node</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#tf-listener">TF Listener</a></li>
</ol>
</li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#time-travel">Time Travel</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#robot_state_publisher">robot_state_publisher</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#joint_state_publisher">joint_state_publisher</a>
<ol>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#publish-them-directly">Publish them directly</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#publish-them-through-hardwaresimulation">Publish them through Hardware/Simulation</a></li>
</ol>
</li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#static-transforms">Static Transforms</a>
<ol>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#through-command-line">Through Command Line</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#through-launch-files">Through Launch files</a></li>
</ol>
</li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#extra-content">Extra Content</a>
<ol>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#spawn-a-urdf-model-in-gazebo">Spawn a URDF Model in gazebo</a></li>
<li><a class="text-rose-500 hover:text-rose-400 underline underline-offset-4 decoration-dotted transition-colors" href="#delete-a-model-from-gazebo">Delete a model from gazebo</a></li>
</ol>
</li>
</ol>
<h2 id="visulization-of-tf"><a class="anchor" href="#visulization-of-tf"><span class="icon icon-link"></span></a>Visulization of TF</h2>
<h3 id="view_frames"><a class="anchor" href="#view_frames"><span class="icon icon-link"></span></a>View_frames</h3>
<p>The view_frames ROS node generates a diagram with the current TF tree of the system.</p>
<p><code>rosrun tf view_frames</code></p>
<h3 id="rqt_tf_tree"><a class="anchor" href="#rqt_tf_tree"><span class="icon icon-link"></span></a>rqt_tf_tree</h3>
<p>rqt_tf_tree gives the same functionality as the view_frames, with an interesting extra: you can refresh and see changes without having to generate another PDF file each time.</p>
<p><code>rosrun rqt_tf_tree rqt_tf_tree</code></p>
<h3 id="using-echo-tf"><a class="anchor" href="#using-echo-tf"><span class="icon icon-link"></span></a>Using echo /tf</h3>
<p>There is a topic named /tf where all the TFs are published. The only problem is that ALL of them are published. In simple systems like this one, that isn&#x27;t a problem; but in massive systems, the quantity of data can be overwhelming. Therefore, the tf package gives a handy tool that filters which transform you are interested in and just shows you that one.</p>
<p><code>rostopic echo -n1 /tf</code></p>
<h3 id="using-tf_echo"><a class="anchor" href="#using-tf_echo"><span class="icon icon-link"></span></a>Using tf_echo</h3>
<p>The /tf topic only publishes the direct TFs, not all the transforms between all the frames. tf_echo does return the transforms between any connected frames to you.</p>
<p><code>rosrun tf tf_echo [reference_frame] [target_frame]</code></p>
<h2 id="tf-publisher-broadcaster-listener-subscriber"><a class="anchor" href="#tf-publisher-broadcaster-listener-subscriber"><span class="icon icon-link"></span></a>TF Publisher, Broadcaster, Listener, Subscriber</h2>
<h3 id="tf-publisher"><a class="anchor" href="#tf-publisher"><span class="icon icon-link"></span></a>TF Publisher</h3>
<pre><code class="hljs language-python"><span class="hljs-comment">#!/usr/bin/env python</span>

<span class="hljs-keyword">import</span> rospy
<span class="hljs-keyword">import</span> tf2_ros
<span class="hljs-keyword">from</span> tf2_msgs.msg <span class="hljs-keyword">import</span> TFMessage
<span class="hljs-keyword">from</span> geometry_msgs.msg <span class="hljs-keyword">import</span> TransformStamped


rospy.init_node(<span class="hljs-string">&#x27;fixed_tf2_broadcaster&#x27;</span>)

pub_tf = rospy.Publisher(<span class="hljs-string">&quot;/tf&quot;</span>,TFMessage, queue_size=<span class="hljs-number">1</span>)
message = TFMessage()

<span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> rospy.is_shutdown():
     <span class="hljs-comment"># Run this loop at about 10Hz</span>
    rospy.sleep(<span class="hljs-number">0.1</span>)

    t1 = TransformStamped()
    t1.header.frame_id = <span class="hljs-string">&quot;turtle1&quot;</span>
    t1.header.stamp = rospy.Time.now()
    t1.child_frame_id = <span class="hljs-string">&quot;carrot1&quot;</span>
    t1.transform.translation.x = <span class="hljs-number">0.0</span>
    t1.transform.translation.y = <span class="hljs-number">2.0</span>
    t1.transform.translation.z = <span class="hljs-number">0.0</span>

    t1.transform.rotation.x = <span class="hljs-number">0.0</span>
    t1.transform.rotation.y = <span class="hljs-number">0.0</span>
    t1.transform.rotation.z = <span class="hljs-number">0.0</span>
    t1.transform.rotation.w = <span class="hljs-number">1.0</span>

    t2 = TransformStamped()
    t2.header.frame_id = <span class="hljs-string">&quot;turtle1&quot;</span>
    t2.header.stamp = rospy.Time.now()
    t2.child_frame_id = <span class="hljs-string">&quot;carrot2&quot;</span>
    t2.transform.translation.x = <span class="hljs-number">0.0</span>
    t2.transform.translation.y = <span class="hljs-number">4.0</span>
    t2.transform.translation.z = <span class="hljs-number">0.0</span>

    t2.transform.rotation.x = <span class="hljs-number">0.0</span>
    t2.transform.rotation.y = <span class="hljs-number">0.0</span>
    t2.transform.rotation.z = <span class="hljs-number">0.0</span>
    t2.transform.rotation.w = <span class="hljs-number">1.0</span>

    message = [t1,t2]
    pub_tf.publish(message)

rospy.spin()
</code></pre>
<h3 id="tf-broadcaster-example---1"><a class="anchor" href="#tf-broadcaster-example---1"><span class="icon icon-link"></span></a>TF Broadcaster Example - 1</h3>
<pre><code class="hljs language-python"><span class="hljs-keyword">def</span> <span class="hljs-title hljs-function">handle_turtle_pose</span>(<span class="hljs-params">pose_msg, robot_name</span>):
    br = tf2_ros.TransformBroadcaster()

    br.sendTransform((pose_msg.position.x,pose_msg.position.y,pose_msg.position.z),
                     (pose_msg.orientation.x,pose_msg.orientation.y,pose_msg.orientation.z,pose_msg.orientation.w),
                     rospy.Time.now(),
                     robot_name,
                     <span class="hljs-string">&quot;/world&quot;</span>)
</code></pre>
<p>You have to publish each element of the position and orientation inside a parenthesis, otherwise it might not work.There is also a very important element, which is the rospy.Time.now(). This is because TF really depends on time to make everything work and be able to play with past messages. Then, state the name of the child-frame you want to assign that model (robot_name) and the parent-frame, which, in this case, is /world.</p>
<h3 id="tf-broadcaster-example---2"><a class="anchor" href="#tf-broadcaster-example---2"><span class="icon icon-link"></span></a>TF Broadcaster Example - 2</h3>
<pre><code class="hljs language-python"><span class="hljs-comment">#!/usr/bin/env python</span>

<span class="hljs-keyword">import</span> rospy
<span class="hljs-keyword">import</span> tf
<span class="hljs-keyword">import</span> math

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:
    rospy.init_node(<span class="hljs-string">&#x27;my_moving_carrot_tf_broadcaster&#x27;</span>)
    br = tf.TransformBroadcaster()
    rate = rospy.Rate(<span class="hljs-number">5.0</span>)
    turning_speed_rate = <span class="hljs-number">0.1</span>
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> rospy.is_shutdown():
        t = (rospy.Time.now().to_sec() * math.pi)*turning_speed_rate
        <span class="hljs-comment"># Map to only one turn maximum [0,2*pi)</span>
        rad_var = t % (<span class="hljs-number">2</span>*math.pi)
        br.sendTransform((<span class="hljs-number">1.0</span> * math.sin(rad_var), <span class="hljs-number">1.0</span> * math.cos(rad_var), <span class="hljs-number">0.0</span>),
                         (<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>),
                         rospy.Time.now(),
                         <span class="hljs-string">&quot;moving_carrot&quot;</span>,
                         <span class="hljs-string">&quot;turtle2&quot;</span>)
        rate.sleep()
</code></pre>
<h3 id="tf-broadcaster-from-pose-for-turtlesim_node"><a class="anchor" href="#tf-broadcaster-from-pose-for-turtlesim_node"><span class="icon icon-link"></span></a>TF Broadcaster from Pose for turtlesim_node</h3>
<p><strong>NOTE: Requires setting of ROS params in launch file as shown below</strong></p>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">launch</span>&gt;</span>
    <span class="hljs-comment">&lt;!--To get the Pose from turtle bot we have to launch turtlesim_node--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;turtlesim&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;turtlesim_node&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sim&quot;</span>/&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;turtle1_tf2_broadcaster&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;learning_tf2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;turtle_tf2_broadcaster.py&quot;</span> <span class="hljs-attr">respawn</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">output</span>=<span class="hljs-string">&quot;screen&quot;</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;turtle&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;string&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;turtle1&quot;</span> /&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">node</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">launch</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-python"><span class="hljs-comment">#! /usr/bin/env python</span>

<span class="hljs-keyword">import</span> rospy
<span class="hljs-keyword">from</span> geometry_msgs.msg <span class="hljs-keyword">import</span> TransformStamped
<span class="hljs-keyword">from</span> turtlesim.msg <span class="hljs-keyword">import</span> Pose
<span class="hljs-keyword">import</span> tf_conversions
<span class="hljs-keyword">import</span> tf2_ros

<span class="hljs-keyword">def</span> <span class="hljs-title hljs-function">callback_function</span>(<span class="hljs-params">pose</span>):
    <span class="hljs-keyword">global</span> turtlename
    br = tf2_ros.TransformBroadcaster()
    t = TransformStamped()

    t.header.stamp = rospy.Time.now()
    t.header.frame_id = <span class="hljs-string">&#x27;world&#x27;</span>
    t.child_frame_id = turtlename
    t.transform.translation.x = pose.x
    t.transform.translation.y = pose.y
    t.transform.translation.z = <span class="hljs-number">0</span>

    q = tf_conversions.transformations.quaternion_from_euler(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,pose.theta)
    t.transform.rotation.x = q[<span class="hljs-number">0</span>]
    t.transform.rotation.y = q[<span class="hljs-number">1</span>]
    t.transform.rotation.z = q[<span class="hljs-number">2</span>]
    t.transform.rotation.w = q[<span class="hljs-number">3</span>]

    br.sendTransform(t)


<span class="hljs-keyword">if</span> __name__== <span class="hljs-string">&#x27;__main__&#x27;</span>:
    rospy.init_node(<span class="hljs-string">&#x27;tf2_broadcaster&#x27;</span>)
    turtlename = rospy.get_param(<span class="hljs-string">&#x27;~turtle&#x27;</span>)
    rospy.Subscriber(<span class="hljs-string">&#x27;/%s/pose&#x27;</span>% turtlename,Pose,callback_function)

    rospy.spin()
</code></pre>
<h3 id="tf-listener"><a class="anchor" href="#tf-listener"><span class="icon icon-link"></span></a>TF Listener</h3>
<pre><code class="hljs language-python"><span class="hljs-comment">#!/usr/bin/env python</span>

<span class="hljs-keyword">import</span> rospy
<span class="hljs-keyword">import</span> tf
<span class="hljs-keyword">import</span> math
<span class="hljs-keyword">import</span> tf2_ros
<span class="hljs-keyword">from</span> geometry_msgs.msg <span class="hljs-keyword">import</span> Twist

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:
    rospy.init_node(<span class="hljs-string">&#x27;tf2_turtle_listener&#x27;</span>)

    tfBuffer = tf2_ros.Buffer()
    tf2_ros.TransformListener(tfBuffer)

    turtle_name = <span class="hljs-string">&quot;turtle2&quot;</span>

    rate = rospy.Rate(<span class="hljs-number">10.0</span>)
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> rospy.is_shutdown():
        <span class="hljs-keyword">try</span>:
            trans = tfBuffer.lookup_transform(turtle_name, <span class="hljs-string">&#x27;turtle1&#x27;</span>, rospy.Time())
            <span class="hljs-comment">#print(trans)</span>
        <span class="hljs-keyword">except</span> (tf.LookupException, tf.ConnectivityException, tf.ExtrapolationException):
            rate.sleep()
            <span class="hljs-keyword">continue</span>

        <span class="hljs-built_in">print</span>(trans)
        rate.sleep()
</code></pre>
<p><strong>NOTE: Using <code>rospy.Time.now()</code> in lookup_transform can cause errors. <code>rospy.Time.now()</code> &gt; will ask for the frame with the current time, which might always not be avaiable immdeaditly. <code>rospy.Time()</code> &gt; will ask for the latest frame that is available. To tackle this a time out argument can be given to the lookup_transform,</strong></p>
<p><code>trans = tfBuffer.lookup_transform(turtle_name, &#x27;turtle1&#x27;, rospy.Time.now(),rospy.Duration(1.0))</code></p>
<h2 id="time-travel"><a class="anchor" href="#time-travel"><span class="icon icon-link"></span></a>Time Travel</h2>
<p>To get the tranform between two objects from the past the following can be used.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">try</span>:
    past = rospy.Time.now() - rospy.Duration(<span class="hljs-number">5.0</span>)
    trans = tfBuffer.lookup_transform(turtle_name, <span class="hljs-string">&#x27;carrot1&#x27;</span>, past, rospy.Duration(<span class="hljs-number">1.0</span>))
<span class="hljs-keyword">except</span> (tf2_ros.LookupException, tf2_ros.ConnectivityException, tf2_ros.ExtrapolationException):
</code></pre>
<p>To get transforms between objects from different timelines the following can be used.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">try</span>:
    past = rospy.Time.now() - rospy.Duration(<span class="hljs-number">5.0</span>)
    trans = tfBuffer.lookup_transform_full(target_frame=turtle_name,target_time=rospy.Time.now(), source_frame=<span class="hljs-string">&#x27;carrot1&#x27;</span>,source_time=past,fixed_frame=<span class="hljs-string">&#x27;world&#x27;</span>,timeout=rospy.Duration(<span class="hljs-number">1.0</span>))

<span class="hljs-keyword">except</span>(tf2_ros.LookupException, tf2_ros.ConnectivityException, tf2_ros.ExtrapolationException):
</code></pre>
<h2 id="robot_state_publisher"><a class="anchor" href="#robot_state_publisher"><span class="icon icon-link"></span></a>robot_state_publisher</h2>
<p>Publishing all the TF&#x27;s manually is very tedious and hence ROS provides nice tool called robot state publisher to automate the task for you. In essence, it takes a file describing the morphology of the robot (aka URDF file) as input and it automatically publishes the TF for you.</p>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">launch</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- Load the URDF file in the param server variable robot_description if it wasn&#x27;t loaded before --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_description&quot;</span> <span class="hljs-attr">command</span>=<span class="hljs-string">&quot;cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf&quot;</span>/&gt;</span>

  <span class="hljs-comment">&lt;!-- Publish TF with robot_state_publisher --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span>
    <span class="hljs-attr">respawn</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">output</span>=<span class="hljs-string">&quot;screen&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">remap</span> <span class="hljs-attr">from</span>=<span class="hljs-string">&quot;/joint_states&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/pi_robot/joint_states&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">node</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">launch</span>&gt;</span>
</code></pre>
<h2 id="joint_state_publisher"><a class="anchor" href="#joint_state_publisher"><span class="icon icon-link"></span></a>joint_state_publisher</h2>
<p>There are two ways to publish non-fixed joint frames</p>
<h3 id="publish-them-directly"><a class="anchor" href="#publish-them-directly"><span class="icon icon-link"></span></a>Publish them directly</h3>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">launch</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_description&quot;</span> <span class="hljs-attr">command</span>=<span class="hljs-string">&quot;cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf&quot;</span> /&gt;</span>

  <span class="hljs-comment">&lt;!-- send fake joint values --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;joint_state_publisher&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;joint_state_publisher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;joint_state_publisher&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;use_gui&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;TRUE&quot;</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">node</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- Combine joint values --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;state_publisher&quot;</span>/&gt;</span>

  <span class="hljs-comment">&lt;!-- Show in RVIZ   --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;rviz&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;rviz&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;rviz&quot;</span> <span class="hljs-attr">args</span>=<span class="hljs-string">&quot;-d $(find pi_robot_pkg)/launch/pi_robot.rviz&quot;</span>/&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">launch</span>&gt;</span>
</code></pre>
<p><strong>NOTE: This only works in RVIZ, meaning the robot in gazebo won&#x27;t be effected by the joint state values.</strong></p>
<h3 id="publish-them-through-hardwaresimulation"><a class="anchor" href="#publish-them-through-hardwaresimulation"><span class="icon icon-link"></span></a>Publish them through Hardware/Simulation</h3>
<p><strong>Step 1: Define a joint that isn&#x27;t fixed in your URDF File</strong></p>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">joint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;left_shoulder_forward_joint&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;revolute&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span> <span class="hljs-attr">link</span>=<span class="hljs-string">&quot;left_shoulder_link&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">link</span>=<span class="hljs-string">&quot;left_shoulder_forward_link&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">origin</span> <span class="hljs-attr">xyz</span>=<span class="hljs-string">&quot;0 0.025 0&quot;</span> <span class="hljs-attr">rpy</span>=<span class="hljs-string">&quot;0 0 0&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">limit</span> <span class="hljs-attr">lower</span>=<span class="hljs-string">&quot;-1.57&quot;</span> <span class="hljs-attr">upper</span>=<span class="hljs-string">&quot;1.57&quot;</span> <span class="hljs-attr">effort</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">velocity</span>=<span class="hljs-string">&quot;3&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">axis</span> <span class="hljs-attr">xyz</span>=<span class="hljs-string">&quot;0 0 1&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dynamics</span> <span class="hljs-attr">damping</span>=<span class="hljs-string">&quot;0.7&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">joint</span>&gt;</span>
</code></pre>
<p><strong>Step 2: Define a Transmission for your joint in your URDF File</strong></p>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">transmission</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tran4&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>transmission_interface/SimpleTransmission<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">joint</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;left_shoulder_forward_joint&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">hardwareInterface</span>&gt;</span>EffortJointInterface<span class="hljs-tag">&lt;/<span class="hljs-name">hardwareInterface</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">joint</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">actuator</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;motor4&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">hardwareInterface</span>&gt;</span>EffortJointInterface<span class="hljs-tag">&lt;/<span class="hljs-name">hardwareInterface</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mechanicalReduction</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">mechanicalReduction</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">actuator</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">transmission</span>&gt;</span>
</code></pre>
<p><strong>Step 3: Define the new transmission controller with the name xxx_position_controller (left_shoulder_forward_joint_position_controller) in a configuration yaml file</strong></p>
<pre><code class="hljs language-yml"><span class="hljs-attr">pi_robot:</span>
  <span class="hljs-comment"># Publish all joint states -----------------------------------</span>
  <span class="hljs-attr">joint_state_controller:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">joint_state_controller/JointStateController</span>
    <span class="hljs-attr">publish_rate:</span> <span class="hljs-number">50</span>

  <span class="hljs-attr">left_shoulder_forward_joint_position_controller:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">effort_controllers/JointPositionController</span>
    <span class="hljs-attr">joint:</span> <span class="hljs-string">left_shoulder_forward_joint</span>
    <span class="hljs-attr">pid:</span> { <span class="hljs-attr">p:</span> <span class="hljs-number">100.0</span>, <span class="hljs-attr">i:</span> <span class="hljs-number">0.01</span>, <span class="hljs-attr">d:</span> <span class="hljs-number">10.0</span> }
</code></pre>
<p><strong>Step 4: Start everything through a launch file.</strong></p>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">launch</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- Load the URDF file in the param server variable robot_description if it wasn&#x27;t loaded before --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_description&quot;</span> <span class="hljs-attr">command</span>=<span class="hljs-string">&quot;cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf&quot;</span> /&gt;</span>
<span class="hljs-comment">&lt;!-- Load joint controller configurations from YAML file to parameter server --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rosparam</span> <span class="hljs-attr">file</span>=<span class="hljs-string">&quot;$(find pi_robot_pkg)/config/pirobot_control.yaml&quot;</span> <span class="hljs-attr">command</span>=<span class="hljs-string">&quot;load&quot;</span>/&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;controller_spawner&quot;</span>
        <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;controller_manager&quot;</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;spawner&quot;</span>
        <span class="hljs-attr">respawn</span>=<span class="hljs-string">&quot;false&quot;</span>
        <span class="hljs-attr">output</span>=<span class="hljs-string">&quot;screen&quot;</span>
        <span class="hljs-attr">ns</span>=<span class="hljs-string">&quot;/pi_robot&quot;</span>
        <span class="hljs-attr">args</span>=<span class="hljs-string">&quot;head_pan_joint_position_controller
              head_tilt_joint_position_controller
              torso_joint_position_controller
              left_shoulder_forward_joint_position_controller
              right_shoulder_forward_joint_position_controller
              left_shoulder_up_joint_position_controller
              right_shoulder_up_joint_position_controller
              left_elbow_joint_position_controller
              right_elbow_joint_position_controller
              left_wrist_joint_position_controller
              right_wrist_joint_position_controller
              joint_state_controller&quot;</span>/&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;robot_state_publisher&quot;</span>
    <span class="hljs-attr">respawn</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">output</span>=<span class="hljs-string">&quot;screen&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">remap</span> <span class="hljs-attr">from</span>=<span class="hljs-string">&quot;/joint_states&quot;</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/pi_robot/joint_states&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">node</span>&gt;</span>

<span class="hljs-comment">&lt;!-- &lt;node name=&quot;robot_state_publisher&quot; pkg=&quot;robot_state_publisher&quot; type=&quot;state_publisher&quot;/&gt;--&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-name">launch</span>&gt;</span>
</code></pre>
<h2 id="static-transforms"><a class="anchor" href="#static-transforms"><span class="icon icon-link"></span></a>Static Transforms</h2>
<p>There are some cases where changing the URDF is not advisable or it simply makes no sense to add it to the robot model.urdf. These are the cases where publishing a static transform, especially through the launch file or commands, is more convenient.</p>
<h3 id="through-command-line"><a class="anchor" href="#through-command-line"><span class="icon icon-link"></span></a>Through Command Line</h3>
<p>The following syntax can be used to publish a static transform via command line. <code>rosrun tf static_transform_publisher x y z yaw pitch roll frame_id child_frame_id period_in_ms</code></p>
<h3 id="through-launch-files"><a class="anchor" href="#through-launch-files"><span class="icon icon-link"></span></a>Through Launch files</h3>
<p>The following syntax can be used to publish a static transform via launch files.</p>
<pre><code class="hljs language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">launch</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;tf&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;static_transform_publisher&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name_of_node&quot;</span>
          <span class="hljs-attr">args</span>=<span class="hljs-string">&quot;x y z yaw pitch roll frame_id child_frame_id period_in_ms&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">node</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">launch</span>&gt;</span>
</code></pre>
<h2 id="extra-content"><a class="anchor" href="#extra-content"><span class="icon icon-link"></span></a>Extra Content</h2>
<h3 id="spawn-a-urdf-model-in-gazebo"><a class="anchor" href="#spawn-a-urdf-model-in-gazebo"><span class="icon icon-link"></span></a>Spawn a URDF Model in gazebo</h3>
<p>This is an example of a launch file you could use to spawn URDF models into a Gazebo world:</p>
<pre><code class="hljs language-xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">launch</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;x&quot;</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;0.0&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;y&quot;</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;0.0&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;z&quot;</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;0.0&quot;</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;urdf_robot_file&quot;</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;$(find your_pkg)/urdf/your_robot.urdf&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_name&quot;</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;your_robot_model_name&quot;</span> /&gt;</span>


    <span class="hljs-comment">&lt;!-- Load the URDF into the ROS Parameter Server --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robot_description&quot;</span> <span class="hljs-attr">command</span>=<span class="hljs-string">&quot;cat $(arg urdf_robot_file)&quot;</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- Run a python script to the send a service call to gazebo_ros to spawn a URDF robot --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">node</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;urdf_spawner&quot;</span> <span class="hljs-attr">pkg</span>=<span class="hljs-string">&quot;gazebo_ros&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;spawn_model&quot;</span> <span class="hljs-attr">respawn</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">output</span>=<span class="hljs-string">&quot;screen&quot;</span>
    <span class="hljs-attr">args</span>=<span class="hljs-string">&quot;-urdf -x $(arg x) -y $(arg y) -z $(arg z)  -model $(arg robot_name) -param robot_description&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">launch</span>&gt;</span>
</code></pre>
<h3 id="delete-a-model-from-gazebo"><a class="anchor" href="#delete-a-model-from-gazebo"><span class="icon icon-link"></span></a>Delete a model from gazebo</h3>
<p><strong>To get a list of all the current models in gazebo:</strong></p>
<p><code>osservice call /gazebo/get_world_properties &quot;{}&quot;</code></p>
<p><strong>To delete a paticular model from the above list:</strong></p>
<p><code>rosservice call /gazebo/delete_model &quot;model_name: &#x27;your_robot_model_name&#x27;&quot;</code></p></div></div></div><div class="px-8 md:p-0 sm:max-w-2xl xl:max-w-5xl mx-auto flex flex-col"><div class="mt-24 py-10 border-t-[1px] border-primary-300 flex flex-col gap-16"><div class="grid grid-cols-1 md:grid-cols-3 md:grid-rows-3 gap-x-1 gap-y-8"><div class="col-span-1 md:row-span-full flex flex-col gap-y-5 items-center md:items-start"><a class="text-rose-50 hover:text-rose-500 transition-colors" href="/about">About</a><a class="text-rose-50 hover:text-rose-500 transition-colors" href="/blog">Blog</a><a class="text-rose-50 hover:text-rose-500 transition-colors" href="/news">News</a><a class="text-rose-50 hover:text-rose-500 transition-colors" href="/levelup">Level Up</a><a class="text-rose-50 hover:text-rose-500 transition-colors" href="/contact">Contact</a></div><div class="col-span-1 row-span-1 md:col-start-2 flex gap-x-5 justify-center items-center md:justify-start md:items-start"><a href="https://github.com/arc-bphc" class="text-rose-50 hover:text-rose-500 transition-colors h-6 w-6"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="h-6 w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://www.facebook.com/automationandroboticsclub" class="text-rose-50 hover:text-rose-500 transition-colors h-6 w-6"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook" class="h-6 w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"></path></svg></a></div><div class="col-span-1 md:row-span-2 md:col-start-2"><div class="flex flex-col gap-y-1 items-center justify-center md:items-start"><span>Contact us at</span><a class="text-rose-400 hover:text-rose-500 underline underline-offset-4 decoration-dotted transition-colors" href="mailto:arc@hyderabad.bits-pilani.ac.in">arc@hyderabad.bits-pilani.ac.in</a></div></div><div class="col-span-1 md:row-span-1 md:col-start-3 md:row-start-1 flex flex-col items-center md:items-start justify-center md:justify-between text-gray-400 text-sm"><span>BITS Pilani Hyderabad Campus</span><span>Secunderabad, Telangana 500078</span></div><div class="col-span-1 md:row-span-2 md:col-start-3 md:row-start-2 flex items-center justify-center md:justify-start"><a href="https://www.bits-pilani.ac.in/hyderabad/"><img src="/static/images/bits.png" alt="BITS Pilani" class="h-20 object-contain"/></a></div></div><span class="text-gray-400 mx-auto">© 2022 Automation &amp; Robotics Club</span></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"ROS TF 101","published":"2021-05-04T00:00:00.000Z","summary":"Learn how to use TF, the transforms framework avaiable in ROS. A step-by-step guide to use TF with rospy","tags":["Tutorials","ROS"],"body":{"raw":"\n## Table of Contents\n\nA transform specifies how data expressed in a frame can be transformed into a different frame. For instance, if you detect an obstacle with the laser at 3 cm in the front, this means that it is 3 cm from the laser, but not from the center of the robot (that is usually called the /base_link). To know the distance from the center of the robot, you need to transform the 3 cm from the /laser_frame to the /base_link frame (which is actually what the Path Planning system needs to know, what is the distance from the center of the robot to the obstacle).\n\nFirst, we'll define two frames (coordinate frames), one at the center of the laser and another one at the center of the robot. Usually, the center of the robot is placed at the rotational center of the robot. We'll name the laser frame as base_laser and the robot frame as base_link.\n\nNow, we need to define a relationship (in terms of position and orientation) between the base_laser and the base_link. For instance, we know that the base_laser frame is at a distance of 20 cm in the y axis and 10 cm in the x axis referring the base_link frame. Then we'll have to provide this relationship to the robot. This relationship between the position of the laser and the base of the robot is known in ROS as the TRANSFORM between the laser and the robot.\n\n## Visulization of TF\n\n### View_frames\n\nThe view_frames ROS node generates a diagram with the current TF tree of the system.\n\n`rosrun tf view_frames`\n\n### rqt_tf_tree\n\nrqt_tf_tree gives the same functionality as the view_frames, with an interesting extra: you can refresh and see changes without having to generate another PDF file each time.\n\n`rosrun rqt_tf_tree rqt_tf_tree`\n\n### Using echo /tf\n\nThere is a topic named /tf where all the TFs are published. The only problem is that ALL of them are published. In simple systems like this one, that isn't a problem; but in massive systems, the quantity of data can be overwhelming. Therefore, the tf package gives a handy tool that filters which transform you are interested in and just shows you that one.\n\n`rostopic echo -n1 /tf`\n\n### Using tf_echo\n\nThe /tf topic only publishes the direct TFs, not all the transforms between all the frames. tf_echo does return the transforms between any connected frames to you.\n\n`rosrun tf tf_echo [reference_frame] [target_frame]`\n\n## TF Publisher, Broadcaster, Listener, Subscriber\n\n### TF Publisher\n\n```python\n#!/usr/bin/env python\n\nimport rospy\nimport tf2_ros\nfrom tf2_msgs.msg import TFMessage\nfrom geometry_msgs.msg import TransformStamped\n\n\nrospy.init_node('fixed_tf2_broadcaster')\n\npub_tf = rospy.Publisher(\"/tf\",TFMessage, queue_size=1)\nmessage = TFMessage()\n\nwhile not rospy.is_shutdown():\n     # Run this loop at about 10Hz\n    rospy.sleep(0.1)\n\n    t1 = TransformStamped()\n    t1.header.frame_id = \"turtle1\"\n    t1.header.stamp = rospy.Time.now()\n    t1.child_frame_id = \"carrot1\"\n    t1.transform.translation.x = 0.0\n    t1.transform.translation.y = 2.0\n    t1.transform.translation.z = 0.0\n\n    t1.transform.rotation.x = 0.0\n    t1.transform.rotation.y = 0.0\n    t1.transform.rotation.z = 0.0\n    t1.transform.rotation.w = 1.0\n\n    t2 = TransformStamped()\n    t2.header.frame_id = \"turtle1\"\n    t2.header.stamp = rospy.Time.now()\n    t2.child_frame_id = \"carrot2\"\n    t2.transform.translation.x = 0.0\n    t2.transform.translation.y = 4.0\n    t2.transform.translation.z = 0.0\n\n    t2.transform.rotation.x = 0.0\n    t2.transform.rotation.y = 0.0\n    t2.transform.rotation.z = 0.0\n    t2.transform.rotation.w = 1.0\n\n    message = [t1,t2]\n    pub_tf.publish(message)\n\nrospy.spin()\n```\n\n### TF Broadcaster Example - 1\n\n```python\ndef handle_turtle_pose(pose_msg, robot_name):\n    br = tf2_ros.TransformBroadcaster()\n\n    br.sendTransform((pose_msg.position.x,pose_msg.position.y,pose_msg.position.z),\n                     (pose_msg.orientation.x,pose_msg.orientation.y,pose_msg.orientation.z,pose_msg.orientation.w),\n                     rospy.Time.now(),\n                     robot_name,\n                     \"/world\")\n```\n\nYou have to publish each element of the position and orientation inside a parenthesis, otherwise it might not work.There is also a very important element, which is the rospy.Time.now(). This is because TF really depends on time to make everything work and be able to play with past messages. Then, state the name of the child-frame you want to assign that model (robot_name) and the parent-frame, which, in this case, is /world.\n\n### TF Broadcaster Example - 2\n\n```python\n#!/usr/bin/env python\n\nimport rospy\nimport tf\nimport math\n\nif __name__ == '__main__':\n    rospy.init_node('my_moving_carrot_tf_broadcaster')\n    br = tf.TransformBroadcaster()\n    rate = rospy.Rate(5.0)\n    turning_speed_rate = 0.1\n    while not rospy.is_shutdown():\n        t = (rospy.Time.now().to_sec() * math.pi)*turning_speed_rate\n        # Map to only one turn maximum [0,2*pi)\n        rad_var = t % (2*math.pi)\n        br.sendTransform((1.0 * math.sin(rad_var), 1.0 * math.cos(rad_var), 0.0),\n                         (0.0, 0.0, 0.0, 1.0),\n                         rospy.Time.now(),\n                         \"moving_carrot\",\n                         \"turtle2\")\n        rate.sleep()\n```\n\n### TF Broadcaster from Pose for turtlesim_node\n\n**NOTE: Requires setting of ROS params in launch file as shown below**\n\n```xml\n\u003claunch\u003e\n    \u003c!--To get the Pose from turtle bot we have to launch turtlesim_node--\u003e\n    \u003cnode pkg=\"turtlesim\" type=\"turtlesim_node\" name=\"sim\"/\u003e\n\n    \u003cnode name=\"turtle1_tf2_broadcaster\" pkg=\"learning_tf2\" type=\"turtle_tf2_broadcaster.py\" respawn=\"false\" output=\"screen\" \u003e\n        \u003cparam name=\"turtle\" type=\"string\" value=\"turtle1\" /\u003e\n\n    \u003c/node\u003e\n\u003c/launch\u003e\n```\n\n```python\n#! /usr/bin/env python\n\nimport rospy\nfrom geometry_msgs.msg import TransformStamped\nfrom turtlesim.msg import Pose\nimport tf_conversions\nimport tf2_ros\n\ndef callback_function(pose):\n    global turtlename\n    br = tf2_ros.TransformBroadcaster()\n    t = TransformStamped()\n\n    t.header.stamp = rospy.Time.now()\n    t.header.frame_id = 'world'\n    t.child_frame_id = turtlename\n    t.transform.translation.x = pose.x\n    t.transform.translation.y = pose.y\n    t.transform.translation.z = 0\n\n    q = tf_conversions.transformations.quaternion_from_euler(0,0,pose.theta)\n    t.transform.rotation.x = q[0]\n    t.transform.rotation.y = q[1]\n    t.transform.rotation.z = q[2]\n    t.transform.rotation.w = q[3]\n\n    br.sendTransform(t)\n\n\nif __name__== '__main__':\n    rospy.init_node('tf2_broadcaster')\n    turtlename = rospy.get_param('~turtle')\n    rospy.Subscriber('/%s/pose'% turtlename,Pose,callback_function)\n\n    rospy.spin()\n```\n\n### TF Listener\n\n```python\n#!/usr/bin/env python\n\nimport rospy\nimport tf\nimport math\nimport tf2_ros\nfrom geometry_msgs.msg import Twist\n\nif __name__ == '__main__':\n    rospy.init_node('tf2_turtle_listener')\n\n    tfBuffer = tf2_ros.Buffer()\n    tf2_ros.TransformListener(tfBuffer)\n\n    turtle_name = \"turtle2\"\n\n    rate = rospy.Rate(10.0)\n    while not rospy.is_shutdown():\n        try:\n            trans = tfBuffer.lookup_transform(turtle_name, 'turtle1', rospy.Time())\n            #print(trans)\n        except (tf.LookupException, tf.ConnectivityException, tf.ExtrapolationException):\n            rate.sleep()\n            continue\n\n        print(trans)\n        rate.sleep()\n```\n\n**NOTE: Using `rospy.Time.now()` in lookup_transform can cause errors. `rospy.Time.now()` \u003e will ask for the frame with the current time, which might always not be avaiable immdeaditly. `rospy.Time()` \u003e will ask for the latest frame that is available. To tackle this a time out argument can be given to the lookup_transform,**\n\n`trans = tfBuffer.lookup_transform(turtle_name, 'turtle1', rospy.Time.now(),rospy.Duration(1.0))`\n\n## Time Travel\n\nTo get the tranform between two objects from the past the following can be used.\n\n```python\ntry:\n    past = rospy.Time.now() - rospy.Duration(5.0)\n    trans = tfBuffer.lookup_transform(turtle_name, 'carrot1', past, rospy.Duration(1.0))\nexcept (tf2_ros.LookupException, tf2_ros.ConnectivityException, tf2_ros.ExtrapolationException):\n```\n\nTo get transforms between objects from different timelines the following can be used.\n\n```python\ntry:\n    past = rospy.Time.now() - rospy.Duration(5.0)\n    trans = tfBuffer.lookup_transform_full(target_frame=turtle_name,target_time=rospy.Time.now(), source_frame='carrot1',source_time=past,fixed_frame='world',timeout=rospy.Duration(1.0))\n\nexcept(tf2_ros.LookupException, tf2_ros.ConnectivityException, tf2_ros.ExtrapolationException):\n```\n\n## robot_state_publisher\n\nPublishing all the TF's manually is very tedious and hence ROS provides nice tool called robot state publisher to automate the task for you. In essence, it takes a file describing the morphology of the robot (aka URDF file) as input and it automatically publishes the TF for you.\n\n```xml\n\u003claunch\u003e\n\n  \u003c!-- Load the URDF file in the param server variable robot_description if it wasn't loaded before --\u003e\n  \u003cparam name=\"robot_description\" command=\"cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf\"/\u003e\n\n  \u003c!-- Publish TF with robot_state_publisher --\u003e\n  \u003cnode name=\"robot_state_publisher\" pkg=\"robot_state_publisher\" type=\"robot_state_publisher\"\n    respawn=\"false\" output=\"screen\"\u003e\n    \u003cremap from=\"/joint_states\" to=\"/pi_robot/joint_states\" /\u003e\n  \u003c/node\u003e\n\n\u003c/launch\u003e\n```\n\n## joint_state_publisher\n\nThere are two ways to publish non-fixed joint frames\n\n### Publish them directly\n\n```xml\n\u003claunch\u003e\n  \u003cparam name=\"robot_description\" command=\"cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf\" /\u003e\n\n  \u003c!-- send fake joint values --\u003e\n  \u003cnode name=\"joint_state_publisher\" pkg=\"joint_state_publisher\" type=\"joint_state_publisher\"\u003e\n    \u003cparam name=\"use_gui\" value=\"TRUE\"/\u003e\n  \u003c/node\u003e\n\n  \u003c!-- Combine joint values --\u003e\n  \u003cnode name=\"robot_state_publisher\" pkg=\"robot_state_publisher\" type=\"state_publisher\"/\u003e\n\n  \u003c!-- Show in RVIZ   --\u003e\n  \u003cnode name=\"rviz\" pkg=\"rviz\" type=\"rviz\" args=\"-d $(find pi_robot_pkg)/launch/pi_robot.rviz\"/\u003e\n\n\u003c/launch\u003e\n```\n\n**NOTE: This only works in RVIZ, meaning the robot in gazebo won't be effected by the joint state values.**\n\n### Publish them through Hardware/Simulation\n\n**Step 1: Define a joint that isn't fixed in your URDF File**\n\n```xml\n\u003cjoint name=\"left_shoulder_forward_joint\" type=\"revolute\"\u003e\n    \u003cparent link=\"left_shoulder_link\"/\u003e\n    \u003cchild link=\"left_shoulder_forward_link\"/\u003e\n    \u003corigin xyz=\"0 0.025 0\" rpy=\"0 0 0\"/\u003e\n    \u003climit lower=\"-1.57\" upper=\"1.57\" effort=\"10\" velocity=\"3\"/\u003e\n    \u003caxis xyz=\"0 0 1\"/\u003e\n    \u003cdynamics damping=\"0.7\"/\u003e\n\u003c/joint\u003e\n```\n\n**Step 2: Define a Transmission for your joint in your URDF File**\n\n```xml\n\u003ctransmission name=\"tran4\"\u003e\n    \u003ctype\u003etransmission_interface/SimpleTransmission\u003c/type\u003e\n    \u003cjoint name=\"left_shoulder_forward_joint\"\u003e\n        \u003chardwareInterface\u003eEffortJointInterface\u003c/hardwareInterface\u003e\n    \u003c/joint\u003e\n    \u003cactuator name=\"motor4\"\u003e\n        \u003chardwareInterface\u003eEffortJointInterface\u003c/hardwareInterface\u003e\n        \u003cmechanicalReduction\u003e1\u003c/mechanicalReduction\u003e\n    \u003c/actuator\u003e\n\u003c/transmission\u003e\n```\n\n**Step 3: Define the new transmission controller with the name xxx_position_controller (left_shoulder_forward_joint_position_controller) in a configuration yaml file**\n\n```yml\npi_robot:\n  # Publish all joint states -----------------------------------\n  joint_state_controller:\n    type: joint_state_controller/JointStateController\n    publish_rate: 50\n\n  left_shoulder_forward_joint_position_controller:\n    type: effort_controllers/JointPositionController\n    joint: left_shoulder_forward_joint\n    pid: { p: 100.0, i: 0.01, d: 10.0 }\n```\n\n**Step 4: Start everything through a launch file.**\n\n```xml\n\u003claunch\u003e\n\n  \u003c!-- Load the URDF file in the param server variable robot_description if it wasn't loaded before --\u003e\n  \u003cparam name=\"robot_description\" command=\"cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf\" /\u003e\n\u003c!-- Load joint controller configurations from YAML file to parameter server --\u003e\n  \u003crosparam file=\"$(find pi_robot_pkg)/config/pirobot_control.yaml\" command=\"load\"/\u003e\n\n  \u003cnode name=\"controller_spawner\"\n        pkg=\"controller_manager\"\n        type=\"spawner\"\n        respawn=\"false\"\n        output=\"screen\"\n        ns=\"/pi_robot\"\n        args=\"head_pan_joint_position_controller\n              head_tilt_joint_position_controller\n              torso_joint_position_controller\n              left_shoulder_forward_joint_position_controller\n              right_shoulder_forward_joint_position_controller\n              left_shoulder_up_joint_position_controller\n              right_shoulder_up_joint_position_controller\n              left_elbow_joint_position_controller\n              right_elbow_joint_position_controller\n              left_wrist_joint_position_controller\n              right_wrist_joint_position_controller\n              joint_state_controller\"/\u003e\n\n\u003cnode name=\"robot_state_publisher\" pkg=\"robot_state_publisher\" type=\"robot_state_publisher\"\n    respawn=\"false\" output=\"screen\"\u003e\n    \u003cremap from=\"/joint_states\" to=\"/pi_robot/joint_states\" /\u003e\n  \u003c/node\u003e\n\n\u003c!-- \u003cnode name=\"robot_state_publisher\" pkg=\"robot_state_publisher\" type=\"state_publisher\"/\u003e--\u003e\n\n\n\u003c/launch\u003e\n```\n\n## Static Transforms\n\nThere are some cases where changing the URDF is not advisable or it simply makes no sense to add it to the robot model.urdf. These are the cases where publishing a static transform, especially through the launch file or commands, is more convenient.\n\n### Through Command Line\n\nThe following syntax can be used to publish a static transform via command line. `rosrun tf static_transform_publisher x y z yaw pitch roll frame_id child_frame_id period_in_ms`\n\n### Through Launch files\n\nThe following syntax can be used to publish a static transform via launch files.\n\n```xml\n\u003claunch\u003e\n    \u003cnode pkg=\"tf\" type=\"static_transform_publisher\" name=\"name_of_node\"\n          args=\"x y z yaw pitch roll frame_id child_frame_id period_in_ms\"\u003e\n    \u003c/node\u003e\n\u003c/launch\u003e\n```\n\n## Extra Content\n\n### Spawn a URDF Model in gazebo\n\nThis is an example of a launch file you could use to spawn URDF models into a Gazebo world:\n\n```xml\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\n\u003claunch\u003e\n\n    \u003carg name=\"x\" default=\"0.0\" /\u003e\n    \u003carg name=\"y\" default=\"0.0\" /\u003e\n    \u003carg name=\"z\" default=\"0.0\" /\u003e\n\n    \u003carg name=\"urdf_robot_file\" default=\"$(find your_pkg)/urdf/your_robot.urdf\" /\u003e\n    \u003carg name=\"robot_name\" default=\"your_robot_model_name\" /\u003e\n\n\n    \u003c!-- Load the URDF into the ROS Parameter Server --\u003e\n    \u003cparam name=\"robot_description\" command=\"cat $(arg urdf_robot_file)\" /\u003e\n\n    \u003c!-- Run a python script to the send a service call to gazebo_ros to spawn a URDF robot --\u003e\n    \u003cnode name=\"urdf_spawner\" pkg=\"gazebo_ros\" type=\"spawn_model\" respawn=\"false\" output=\"screen\"\n    args=\"-urdf -x $(arg x) -y $(arg y) -z $(arg z)  -model $(arg robot_name) -param robot_description\"/\u003e\n\u003c/launch\u003e\n```\n\n### Delete a model from gazebo\n\n**To get a list of all the current models in gazebo:**\n\n`osservice call /gazebo/get_world_properties \"{}\"`\n\n**To delete a paticular model from the above list:**\n\n`rosservice call /gazebo/delete_model \"model_name: 'your_robot_model_name'\"`\n","code":"var Component=(()=\u003e{var h=Object.create;var r=Object.defineProperty;var o=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var t=n=\u003er(n,\"__esModule\",{value:!0});var j=(n,s)=\u003e()=\u003e(s||n((s={exports:{}}).exports,s),s.exports),N=(n,s)=\u003e{t(n);for(var e in s)r(n,e,{get:s[e],enumerable:!0})},f=(n,s,e)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of m(s))!p.call(n,l)\u0026\u0026l!==\"default\"\u0026\u0026r(n,l,{get:()=\u003es[l],enumerable:!(e=o(s,l))||e.enumerable});return n},g=n=\u003ef(t(r(n!=null?h(d(n)):{},\"default\",n\u0026\u0026n.__esModule\u0026\u0026\"default\"in n?{get:()=\u003en.default,enumerable:!0}:{value:n,enumerable:!0})),n);var c=j((w,i)=\u003e{i.exports=_jsx_runtime});var b={};N(b,{default:()=\u003e_});var a=g(c());function u(n={}){let s=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",h3:\"h3\",p:\"p\",code:\"code\",pre:\"pre\",strong:\"strong\"},n.components),{wrapper:e}=s,l=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.h2,{id:\"table-of-contents\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#table-of-contents\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Table of Contents\"]}),`\n`,(0,a.jsxs)(s.ol,{children:[`\n`,(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.a,{href:\"#visulization-of-tf\",children:\"Visulization of TF\"}),`\n`,(0,a.jsxs)(s.ol,{children:[`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#view_frames\",children:\"View_frames\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#rqt_tf_tree\",children:\"rqt_tf_tree\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#using-echo-tf\",children:\"Using echo /tf\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#using-tf_echo\",children:\"Using tf_echo\"})}),`\n`]}),`\n`]}),`\n`,(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.a,{href:\"#tf-publisher-broadcaster-listener-subscriber\",children:\"TF Publisher, Broadcaster, Listener, Subscriber\"}),`\n`,(0,a.jsxs)(s.ol,{children:[`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#tf-publisher\",children:\"TF Publisher\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#tf-broadcaster-example---1\",children:\"TF Broadcaster Example - 1\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#tf-broadcaster-example---2\",children:\"TF Broadcaster Example - 2\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#tf-broadcaster-from-pose-for-turtlesim_node\",children:\"TF Broadcaster from Pose for turtlesim_node\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#tf-listener\",children:\"TF Listener\"})}),`\n`]}),`\n`]}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#time-travel\",children:\"Time Travel\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#robot_state_publisher\",children:\"robot_state_publisher\"})}),`\n`,(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.a,{href:\"#joint_state_publisher\",children:\"joint_state_publisher\"}),`\n`,(0,a.jsxs)(s.ol,{children:[`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#publish-them-directly\",children:\"Publish them directly\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#publish-them-through-hardwaresimulation\",children:\"Publish them through Hardware/Simulation\"})}),`\n`]}),`\n`]}),`\n`,(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.a,{href:\"#static-transforms\",children:\"Static Transforms\"}),`\n`,(0,a.jsxs)(s.ol,{children:[`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#through-command-line\",children:\"Through Command Line\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#through-launch-files\",children:\"Through Launch files\"})}),`\n`]}),`\n`]}),`\n`,(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.a,{href:\"#extra-content\",children:\"Extra Content\"}),`\n`,(0,a.jsxs)(s.ol,{children:[`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#spawn-a-urdf-model-in-gazebo\",children:\"Spawn a URDF Model in gazebo\"})}),`\n`,(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:\"#delete-a-model-from-gazebo\",children:\"Delete a model from gazebo\"})}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,a.jsxs)(s.h2,{id:\"visulization-of-tf\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#visulization-of-tf\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Visulization of TF\"]}),`\n`,(0,a.jsxs)(s.h3,{id:\"view_frames\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#view_frames\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"View_frames\"]}),`\n`,(0,a.jsx)(s.p,{children:\"The view_frames ROS node generates a diagram with the current TF tree of the system.\"}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:\"rosrun tf view_frames\"})}),`\n`,(0,a.jsxs)(s.h3,{id:\"rqt_tf_tree\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#rqt_tf_tree\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"rqt_tf_tree\"]}),`\n`,(0,a.jsx)(s.p,{children:\"rqt_tf_tree gives the same functionality as the view_frames, with an interesting extra: you can refresh and see changes without having to generate another PDF file each time.\"}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:\"rosrun rqt_tf_tree rqt_tf_tree\"})}),`\n`,(0,a.jsxs)(s.h3,{id:\"using-echo-tf\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#using-echo-tf\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Using echo /tf\"]}),`\n`,(0,a.jsx)(s.p,{children:\"There is a topic named /tf where all the TFs are published. The only problem is that ALL of them are published. In simple systems like this one, that isn't a problem; but in massive systems, the quantity of data can be overwhelming. Therefore, the tf package gives a handy tool that filters which transform you are interested in and just shows you that one.\"}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:\"rostopic echo -n1 /tf\"})}),`\n`,(0,a.jsxs)(s.h3,{id:\"using-tf_echo\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#using-tf_echo\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Using tf_echo\"]}),`\n`,(0,a.jsx)(s.p,{children:\"The /tf topic only publishes the direct TFs, not all the transforms between all the frames. tf_echo does return the transforms between any connected frames to you.\"}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:\"rosrun tf tf_echo [reference_frame] [target_frame]\"})}),`\n`,(0,a.jsxs)(s.h2,{id:\"tf-publisher-broadcaster-listener-subscriber\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#tf-publisher-broadcaster-listener-subscriber\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"TF Publisher, Broadcaster, Listener, Subscriber\"]}),`\n`,(0,a.jsxs)(s.h3,{id:\"tf-publisher\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#tf-publisher\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"TF Publisher\"]}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"#!/usr/bin/env python\"}),`\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` rospy\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` tf2_ros\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"from\"}),\" tf2_msgs.msg \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` TFMessage\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"from\"}),\" geometry_msgs.msg \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` TransformStamped\n\n\nrospy.init_node(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'fixed_tf2_broadcaster'\"}),`)\n\npub_tf = rospy.Publisher(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/tf\"'}),\",TFMessage, queue_size=\",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1\"}),`)\nmessage = TFMessage()\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"while\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"not\"}),` rospy.is_shutdown():\n     `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"# Run this loop at about 10Hz\"}),`\n    rospy.sleep(`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.1\"}),`)\n\n    t1 = TransformStamped()\n    t1.header.frame_id = `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle1\"'}),`\n    t1.header.stamp = rospy.Time.now()\n    t1.child_frame_id = `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"carrot1\"'}),`\n    t1.transform.translation.x = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t1.transform.translation.y = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"2.0\"}),`\n    t1.transform.translation.z = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n\n    t1.transform.rotation.x = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t1.transform.rotation.y = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t1.transform.rotation.z = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t1.transform.rotation.w = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),`\n\n    t2 = TransformStamped()\n    t2.header.frame_id = `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle1\"'}),`\n    t2.header.stamp = rospy.Time.now()\n    t2.child_frame_id = `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"carrot2\"'}),`\n    t2.transform.translation.x = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t2.transform.translation.y = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"4.0\"}),`\n    t2.transform.translation.z = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n\n    t2.transform.rotation.x = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t2.transform.rotation.y = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t2.transform.rotation.z = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`\n    t2.transform.rotation.w = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),`\n\n    message = [t1,t2]\n    pub_tf.publish(message)\n\nrospy.spin()\n`]})}),`\n`,(0,a.jsxs)(s.h3,{id:\"tf-broadcaster-example---1\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#tf-broadcaster-example---1\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"TF Broadcaster Example - 1\"]}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"def\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-title hljs-function\",children:\"handle_turtle_pose\"}),\"(\",(0,a.jsx)(s.span,{className:\"hljs-params\",children:\"pose_msg, robot_name\"}),`):\n    br = tf2_ros.TransformBroadcaster()\n\n    br.sendTransform((pose_msg.position.x,pose_msg.position.y,pose_msg.position.z),\n                     (pose_msg.orientation.x,pose_msg.orientation.y,pose_msg.orientation.z,pose_msg.orientation.w),\n                     rospy.Time.now(),\n                     robot_name,\n                     `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/world\"'}),`)\n`]})}),`\n`,(0,a.jsx)(s.p,{children:\"You have to publish each element of the position and orientation inside a parenthesis, otherwise it might not work.There is also a very important element, which is the rospy.Time.now(). This is because TF really depends on time to make everything work and be able to play with past messages. Then, state the name of the child-frame you want to assign that model (robot_name) and the parent-frame, which, in this case, is /world.\"}),`\n`,(0,a.jsxs)(s.h3,{id:\"tf-broadcaster-example---2\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#tf-broadcaster-example---2\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"TF Broadcaster Example - 2\"]}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"#!/usr/bin/env python\"}),`\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` rospy\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` tf\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` math\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"if\"}),\" __name__ == \",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'__main__'\"}),`:\n    rospy.init_node(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'my_moving_carrot_tf_broadcaster'\"}),`)\n    br = tf.TransformBroadcaster()\n    rate = rospy.Rate(`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"5.0\"}),`)\n    turning_speed_rate = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.1\"}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"while\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"not\"}),` rospy.is_shutdown():\n        t = (rospy.Time.now().to_sec() * math.pi)*turning_speed_rate\n        `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"# Map to only one turn maximum [0,2*pi)\"}),`\n        rad_var = t % (`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"2\"}),`*math.pi)\n        br.sendTransform((`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),\" * math.sin(rad_var), \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),\" * math.cos(rad_var), \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),`),\n                         (`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),\", \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),\", \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.0\"}),\", \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),`),\n                         rospy.Time.now(),\n                         `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"moving_carrot\"'}),`,\n                         `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle2\"'}),`)\n        rate.sleep()\n`]})}),`\n`,(0,a.jsxs)(s.h3,{id:\"tf-broadcaster-from-pose-for-turtlesim_node\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#tf-broadcaster-from-pose-for-turtlesim_node\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"TF Broadcaster from Pose for turtlesim_node\"]}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"NOTE: Requires setting of ROS params in launch file as shown below\"})}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!--To get the Pose from turtle bot we have to launch turtlesim_node--\u003e\"}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtlesim\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtlesim_node\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"sim\"'}),\"/\u003e\"]}),`\n\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle1_tf2_broadcaster\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"learning_tf2\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle_tf2_broadcaster.py\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"respawn\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"false\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"output\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"screen\"'}),\" \u003e\"]}),`\n        `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"param\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"string\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle1\"'}),\" /\u003e\"]}),`\n\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\"\u003e\"]}),`\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"#! /usr/bin/env python\"}),`\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` rospy\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"from\"}),\" geometry_msgs.msg \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` TransformStamped\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"from\"}),\" turtlesim.msg \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` Pose\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` tf_conversions\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` tf2_ros\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"def\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-title hljs-function\",children:\"callback_function\"}),\"(\",(0,a.jsx)(s.span,{className:\"hljs-params\",children:\"pose\"}),`):\n    `,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"global\"}),` turtlename\n    br = tf2_ros.TransformBroadcaster()\n    t = TransformStamped()\n\n    t.header.stamp = rospy.Time.now()\n    t.header.frame_id = `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'world'\"}),`\n    t.child_frame_id = turtlename\n    t.transform.translation.x = pose.x\n    t.transform.translation.y = pose.y\n    t.transform.translation.z = `,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0\"}),`\n\n    q = tf_conversions.transformations.quaternion_from_euler(`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0\"}),\",\",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0\"}),`,pose.theta)\n    t.transform.rotation.x = q[`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0\"}),`]\n    t.transform.rotation.y = q[`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1\"}),`]\n    t.transform.rotation.z = q[`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"2\"}),`]\n    t.transform.rotation.w = q[`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"3\"}),`]\n\n    br.sendTransform(t)\n\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"if\"}),\" __name__== \",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'__main__'\"}),`:\n    rospy.init_node(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'tf2_broadcaster'\"}),`)\n    turtlename = rospy.get_param(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'~turtle'\"}),`)\n    rospy.Subscriber(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'/%s/pose'\"}),`% turtlename,Pose,callback_function)\n\n    rospy.spin()\n`]})}),`\n`,(0,a.jsxs)(s.h3,{id:\"tf-listener\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#tf-listener\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"TF Listener\"]}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"#!/usr/bin/env python\"}),`\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` rospy\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` tf\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` math\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` tf2_ros\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"from\"}),\" geometry_msgs.msg \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"import\"}),` Twist\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"if\"}),\" __name__ == \",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'__main__'\"}),`:\n    rospy.init_node(`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'tf2_turtle_listener'\"}),`)\n\n    tfBuffer = tf2_ros.Buffer()\n    tf2_ros.TransformListener(tfBuffer)\n\n    turtle_name = `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"turtle2\"'}),`\n\n    rate = rospy.Rate(`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"10.0\"}),`)\n    `,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"while\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"not\"}),` rospy.is_shutdown():\n        `,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"try\"}),`:\n            trans = tfBuffer.lookup_transform(turtle_name, `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'turtle1'\"}),`, rospy.Time())\n            `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"#print(trans)\"}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"except\"}),` (tf.LookupException, tf.ConnectivityException, tf.ExtrapolationException):\n            rate.sleep()\n            `,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"continue\"}),`\n\n        `,(0,a.jsx)(s.span,{className:\"hljs-built_in\",children:\"print\"}),`(trans)\n        rate.sleep()\n`]})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsxs)(s.strong,{children:[\"NOTE: Using \",(0,a.jsx)(s.code,{children:\"rospy.Time.now()\"}),\" in lookup_transform can cause errors. \",(0,a.jsx)(s.code,{children:\"rospy.Time.now()\"}),\" \u003e will ask for the frame with the current time, which might always not be avaiable immdeaditly. \",(0,a.jsx)(s.code,{children:\"rospy.Time()\"}),\" \u003e will ask for the latest frame that is available. To tackle this a time out argument can be given to the lookup_transform,\"]})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:\"trans = tfBuffer.lookup_transform(turtle_name, 'turtle1', rospy.Time.now(),rospy.Duration(1.0))\"})}),`\n`,(0,a.jsxs)(s.h2,{id:\"time-travel\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#time-travel\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Time Travel\"]}),`\n`,(0,a.jsx)(s.p,{children:\"To get the tranform between two objects from the past the following can be used.\"}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"try\"}),`:\n    past = rospy.Time.now() - rospy.Duration(`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"5.0\"}),`)\n    trans = tfBuffer.lookup_transform(turtle_name, `,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'carrot1'\"}),\", past, rospy.Duration(\",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),`))\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"except\"}),` (tf2_ros.LookupException, tf2_ros.ConnectivityException, tf2_ros.ExtrapolationException):\n`]})}),`\n`,(0,a.jsx)(s.p,{children:\"To get transforms between objects from different timelines the following can be used.\"}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-python\",children:[(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"try\"}),`:\n    past = rospy.Time.now() - rospy.Duration(`,(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"5.0\"}),`)\n    trans = tfBuffer.lookup_transform_full(target_frame=turtle_name,target_time=rospy.Time.now(), source_frame=`,(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'carrot1'\"}),\",source_time=past,fixed_frame=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"'world'\"}),\",timeout=rospy.Duration(\",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"1.0\"}),`))\n\n`,(0,a.jsx)(s.span,{className:\"hljs-keyword\",children:\"except\"}),`(tf2_ros.LookupException, tf2_ros.ConnectivityException, tf2_ros.ExtrapolationException):\n`]})}),`\n`,(0,a.jsxs)(s.h2,{id:\"robot_state_publisher\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#robot_state_publisher\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"robot_state_publisher\"]}),`\n`,(0,a.jsx)(s.p,{children:\"Publishing all the TF's manually is very tedious and hence ROS provides nice tool called robot state publisher to automate the task for you. In essence, it takes a file describing the morphology of the robot (aka URDF file) as input and it automatically publishes the TF for you.\"}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Load the URDF file in the param server variable robot_description if it wasn't loaded before --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"param\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_description\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"command\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf\"'}),\"/\u003e\"]}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Publish TF with robot_state_publisher --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"respawn\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"false\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"output\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"screen\"'}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"remap\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"from\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/joint_states\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"to\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/pi_robot/joint_states\"'}),\" /\u003e\"]}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\"\u003e\"]}),`\n\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsxs)(s.h2,{id:\"joint_state_publisher\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#joint_state_publisher\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"joint_state_publisher\"]}),`\n`,(0,a.jsx)(s.p,{children:\"There are two ways to publish non-fixed joint frames\"}),`\n`,(0,a.jsxs)(s.h3,{id:\"publish-them-directly\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#publish-them-directly\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Publish them directly\"]}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"param\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_description\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"command\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf\"'}),\" /\u003e\"]}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- send fake joint values --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"joint_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"joint_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"joint_state_publisher\"'}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"param\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"use_gui\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"value\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"TRUE\"'}),\"/\u003e\"]}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\"\u003e\"]}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Combine joint values --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"state_publisher\"'}),\"/\u003e\"]}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Show in RVIZ   --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"rviz\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"rviz\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"rviz\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"args\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"-d $(find pi_robot_pkg)/launch/pi_robot.rviz\"'}),\"/\u003e\"]}),`\n\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"NOTE: This only works in RVIZ, meaning the robot in gazebo won't be effected by the joint state values.\"})}),`\n`,(0,a.jsxs)(s.h3,{id:\"publish-them-through-hardwaresimulation\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#publish-them-through-hardwaresimulation\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Publish them through Hardware/Simulation\"]}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"Step 1: Define a joint that isn't fixed in your URDF File\"})}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"joint\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"left_shoulder_forward_joint\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"revolute\"'}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"parent\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"link\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"left_shoulder_link\"'}),\"/\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"child\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"link\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"left_shoulder_forward_link\"'}),\"/\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"origin\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"xyz\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0 0.025 0\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"rpy\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0 0 0\"'}),\"/\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"limit\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"lower\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"-1.57\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"upper\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"1.57\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"effort\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"10\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"velocity\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"3\"'}),\"/\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"axis\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"xyz\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0 0 1\"'}),\"/\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"dynamics\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"damping\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0.7\"'}),\"/\u003e\"]}),`\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"joint\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"Step 2: Define a Transmission for your joint in your URDF File\"})}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"transmission\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"tran4\"'}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"type\"}),\"\u003e\"]}),\"transmission_interface/SimpleTransmission\",(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"type\"}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"joint\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"left_shoulder_forward_joint\"'}),\"\u003e\"]}),`\n        `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"hardwareInterface\"}),\"\u003e\"]}),\"EffortJointInterface\",(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"hardwareInterface\"}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"joint\"}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"actuator\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"motor4\"'}),\"\u003e\"]}),`\n        `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"hardwareInterface\"}),\"\u003e\"]}),\"EffortJointInterface\",(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"hardwareInterface\"}),\"\u003e\"]}),`\n        `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"mechanicalReduction\"}),\"\u003e\"]}),\"1\",(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"mechanicalReduction\"}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"actuator\"}),\"\u003e\"]}),`\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"transmission\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"Step 3: Define the new transmission controller with the name xxx_position_controller (left_shoulder_forward_joint_position_controller) in a configuration yaml file\"})}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-yml\",children:[(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pi_robot:\"}),`\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"# Publish all joint states -----------------------------------\"}),`\n  `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"joint_state_controller:\"}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"joint_state_controller/JointStateController\"}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"publish_rate:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"50\"}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"left_shoulder_forward_joint_position_controller:\"}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"effort_controllers/JointPositionController\"}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"joint:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-string\",children:\"left_shoulder_forward_joint\"}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pid:\"}),\" { \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"p:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"100.0\"}),\", \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"i:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"0.01\"}),\", \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"d:\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-number\",children:\"10.0\"}),` }\n`]})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"Step 4: Start everything through a launch file.\"})}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n\n  `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Load the URDF file in the param server variable robot_description if it wasn't loaded before --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"param\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_description\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"command\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"cat $(find pi_robot_pkg)/urdf/pi_robot_v2.urdf\"'}),\" /\u003e\"]}),`\n`,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Load joint controller configurations from YAML file to parameter server --\u003e\"}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"rosparam\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"file\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"$(find pi_robot_pkg)/config/pirobot_control.yaml\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"command\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"load\"'}),\"/\u003e\"]}),`\n\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"controller_spawner\"'}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"controller_manager\"'}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"spawner\"'}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"respawn\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"false\"'}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"output\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"screen\"'}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"ns\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/pi_robot\"'}),`\n        `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"args\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:`\"head_pan_joint_position_controller\n              head_tilt_joint_position_controller\n              torso_joint_position_controller\n              left_shoulder_forward_joint_position_controller\n              right_shoulder_forward_joint_position_controller\n              left_shoulder_up_joint_position_controller\n              right_shoulder_up_joint_position_controller\n              left_elbow_joint_position_controller\n              right_elbow_joint_position_controller\n              left_wrist_joint_position_controller\n              right_wrist_joint_position_controller\n              joint_state_controller\"`}),\"/\u003e\"]}),`\n\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_state_publisher\"'}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"respawn\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"false\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"output\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"screen\"'}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"remap\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"from\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/joint_states\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"to\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"/pi_robot/joint_states\"'}),\" /\u003e\"]}),`\n  `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\"\u003e\"]}),`\n\n`,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:'\u003c!-- \u003cnode name=\"robot_state_publisher\" pkg=\"robot_state_publisher\" type=\"state_publisher\"/\u003e--\u003e'}),`\n\n\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsxs)(s.h2,{id:\"static-transforms\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#static-transforms\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Static Transforms\"]}),`\n`,(0,a.jsx)(s.p,{children:\"There are some cases where changing the URDF is not advisable or it simply makes no sense to add it to the robot model.urdf. These are the cases where publishing a static transform, especially through the launch file or commands, is more convenient.\"}),`\n`,(0,a.jsxs)(s.h3,{id:\"through-command-line\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#through-command-line\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Through Command Line\"]}),`\n`,(0,a.jsxs)(s.p,{children:[\"The following syntax can be used to publish a static transform via command line. \",(0,a.jsx)(s.code,{children:\"rosrun tf static_transform_publisher x y z yaw pitch roll frame_id child_frame_id period_in_ms\"})]}),`\n`,(0,a.jsxs)(s.h3,{id:\"through-launch-files\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#through-launch-files\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Through Launch files\"]}),`\n`,(0,a.jsx)(s.p,{children:\"The following syntax can be used to publish a static transform via launch files.\"}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"tf\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"static_transform_publisher\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"name_of_node\"'}),`\n          `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"args\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"x y z yaw pitch roll frame_id child_frame_id period_in_ms\"'}),\"\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\"\u003e\"]}),`\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsxs)(s.h2,{id:\"extra-content\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#extra-content\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Extra Content\"]}),`\n`,(0,a.jsxs)(s.h3,{id:\"spawn-a-urdf-model-in-gazebo\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#spawn-a-urdf-model-in-gazebo\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Spawn a URDF Model in gazebo\"]}),`\n`,(0,a.jsx)(s.p,{children:\"This is an example of a launch file you could use to spawn URDF models into a Gazebo world:\"}),`\n`,(0,a.jsx)(s.pre,{children:(0,a.jsxs)(s.code,{className:\"hljs language-xml\",children:[(0,a.jsx)(s.span,{className:\"hljs-meta\",children:'\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e'}),`\n\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"arg\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"x\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"default\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0.0\"'}),\" /\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"arg\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"y\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"default\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0.0\"'}),\" /\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"arg\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"z\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"default\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"0.0\"'}),\" /\u003e\"]}),`\n\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"arg\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"urdf_robot_file\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"default\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"$(find your_pkg)/urdf/your_robot.urdf\"'}),\" /\u003e\"]}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"arg\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_name\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"default\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"your_robot_model_name\"'}),\" /\u003e\"]}),`\n\n\n    `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Load the URDF into the ROS Parameter Server --\u003e\"}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"param\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"robot_description\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"command\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"cat $(arg urdf_robot_file)\"'}),\" /\u003e\"]}),`\n\n    `,(0,a.jsx)(s.span,{className:\"hljs-comment\",children:\"\u003c!-- Run a python script to the send a service call to gazebo_ros to spawn a URDF robot --\u003e\"}),`\n    `,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"node\"}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"name\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"urdf_spawner\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"pkg\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"gazebo_ros\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"type\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"spawn_model\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"respawn\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"false\"'}),\" \",(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"output\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"screen\"'}),`\n    `,(0,a.jsx)(s.span,{className:\"hljs-attr\",children:\"args\"}),\"=\",(0,a.jsx)(s.span,{className:\"hljs-string\",children:'\"-urdf -x $(arg x) -y $(arg y) -z $(arg z)  -model $(arg robot_name) -param robot_description\"'}),\"/\u003e\"]}),`\n`,(0,a.jsxs)(s.span,{className:\"hljs-tag\",children:[\"\u003c/\",(0,a.jsx)(s.span,{className:\"hljs-name\",children:\"launch\"}),\"\u003e\"]}),`\n`]})}),`\n`,(0,a.jsxs)(s.h3,{id:\"delete-a-model-from-gazebo\",children:[(0,a.jsx)(s.a,{className:\"anchor\",href:\"#delete-a-model-from-gazebo\",children:(0,a.jsx)(s.span,{className:\"icon icon-link\"})}),\"Delete a model from gazebo\"]}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"To get a list of all the current models in gazebo:\"})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:'osservice call /gazebo/get_world_properties \"{}\"'})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:\"To delete a paticular model from the above list:\"})}),`\n`,(0,a.jsx)(s.p,{children:(0,a.jsx)(s.code,{children:`rosservice call /gazebo/delete_model \"model_name: 'your_robot_model_name'\"`})})]});return e?(0,a.jsx)(e,Object.assign({},n,{children:l})):l}var _=u;return b;})();\n;return Component.default;"},"_id":"blog/ros-tf101.mdx","_raw":{"sourceFilePath":"blog/ros-tf101.mdx","sourceFileName":"ros-tf101.mdx","sourceFileDir":"blog","bodyType":"mdx","flattenedPath":"blog/ros-tf101"},"type":"Blog","readingTime":{"text":"9 min read","minutes":8.065,"time":483900,"words":1613},"slug":"ros-tf101"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"ros-tf101"},"buildId":"1v1vs4MHXJp0GdlqORR_o","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>